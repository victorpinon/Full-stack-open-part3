{"version":3,"sources":["services/persons.js","components/Notification.js","components/PersonForm.js","components/Persons.js","components/Filter.js","components/App.js","index.js"],"names":["baseUrl","personService","getAll","axios","get","then","response","data","create","newObject","post","update","changedObject","put","id","remove","delete","Notification","message","messageType","messageStyle","background","fontSize","borderStyle","borderRadius","padding","marginBottom","color","style","PersonForm","addPerson","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","value","onChange","type","Filter","persons","nameFilter","handleDeleteClick","filter","person","name","toLowerCase","includes","map","number","onClick","handleNameFilterChange","App","useState","setPersons","setNewName","setNewNumber","setNameFilter","setMessageType","setMessage","useEffect","initialPersons","showNotificationMessage","setTimeout","event","target","preventDefault","find","p","undefined","newPerson","returnedPerson","concat","window","confirm","changedPerson","Persons","personToDelete","catch","error","ReactDOM","render","document","getElementById"],"mappings":"+KACMA,EAAU,eAwBDC,EAFO,CAAEC,OApBT,WAEb,OADgBC,IAAMC,IAAIJ,GACXK,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAkBXC,OAfjB,SAAAC,GAEb,OADgBN,IAAMO,KAAKV,EAASS,GACrBJ,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAaHI,OAVzB,SAAAC,GAEb,OADgBT,IAAMU,IAAN,UAAab,EAAb,YAAwBY,EAAcE,IAAMF,GAC7CP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAQKQ,OALjC,SAAAD,GAEb,OADgBX,IAAMa,OAAN,UAAgBhB,EAAhB,YAA2Bc,IAC5BT,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UCU5BU,EA5BM,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,QAASC,EAAkB,EAAlBA,YACzBC,EAAe,CACfC,WAAY,YACZC,SAAU,GACVC,YAAa,QACbC,aAAc,EACdC,QAAS,GACTC,aAAc,IAUlB,MAPoB,YAAhBP,EACAC,EAAaO,MAAQ,QAEA,UAAhBR,IACLC,EAAaO,MAAQ,OAGT,OAAZT,EACK,KAIP,qBAAKU,MAAOR,EAAZ,SACGF,KCAMW,EAvBI,SAAC,GAA2E,IAA1EC,EAAyE,EAAzEA,UAAWC,EAA8D,EAA9DA,QAASC,EAAqD,EAArDA,UAAWC,EAA0C,EAA1CA,iBAAkBC,EAAwB,EAAxBA,mBAEpE,OACE,uBAAMC,SAAUL,EAAhB,UACI,wCACI,uBACIM,MAAOL,EACPM,SAAUJ,OAGlB,0CACI,uBACIG,MAAOJ,EACPK,SAAUH,OAGlB,8BACI,wBAAQI,KAAK,SAAb,uBCAGC,EAjBA,SAAC,GAA8C,IAA7CC,EAA4C,EAA5CA,QAASC,EAAmC,EAAnCA,WAAYC,EAAuB,EAAvBA,kBAEpC,OACE,8BAEIF,EACCG,QAAO,SAAAC,GAAM,MAAmB,KAAfH,GAA2BG,EAAOC,KAAKC,cAAcC,SAASN,EAAWK,kBAC1FE,KAAI,SAAAJ,GACH,OACE,8BAAoBA,EAAOC,KAA3B,IAAkCD,EAAOK,OAAzC,IAAiD,wBAAQC,QAAS,kBAAMR,EAAkBE,IAAzC,sBAAzCA,EAAO9B,UCGZyB,EAZA,SAAC,GAA0C,IAAzCE,EAAwC,EAAxCA,WAAYU,EAA4B,EAA5BA,uBAE3B,OACE,oDACI,uBACIf,MAAOK,EACPJ,SAAUc,QCwGPC,EAvGH,WAAO,IAAD,EACgBC,mBAAS,IADzB,mBACRb,EADQ,KACCc,EADD,OAEgBD,mBAAS,IAFzB,mBAERtB,EAFQ,KAECwB,EAFD,OAGoBF,mBAAS,IAH7B,mBAGRrB,EAHQ,KAGGwB,EAHH,OAIsBH,mBAAS,IAJ/B,mBAIRZ,EAJQ,KAIIgB,EAJJ,OAKwBJ,mBAAS,MALjC,mBAKRlC,EALQ,KAKKuC,EALL,OAMgBL,mBAAS,MANzB,mBAMRnC,EANQ,KAMCyC,EAND,KAShBC,qBAAU,WACR3D,EACCC,SACAG,MAAK,SAAAwD,GACJP,EAAWO,QAEZ,IAEH,IAYMC,EAA0B,SAAC5C,EAASC,GACxCuC,EAAevC,GACfwC,EAAWzC,GACX6C,YAAW,WACTL,EAAe,MACfC,EAAW,QACV,MA+CL,OACE,gCACE,2CACA,cAAC,EAAD,CAAczC,QAASA,EAASC,YAAaA,IAC7C,cAAC,EAAD,CAAQsB,WAAYA,EAAYU,uBA7DL,SAACa,GAC9BP,EAAcO,EAAMC,OAAO7B,UA8DzB,yCACA,cAAC,EAAD,CACEN,UAvCY,SAACkC,GACjBA,EAAME,iBACN,IAAMtB,EAASJ,EAAQ2B,MAAK,SAAAC,GAAC,OAAIA,EAAEvB,OAASd,KAC5C,QAAesC,IAAXzB,EAAsB,CACxB,IAAM0B,EAAY,CAChBzB,KAAMd,EACNkB,OAAQjB,GAEV/B,EACCO,OAAO8D,GACPjE,MAAK,SAAAkE,GACJjB,EAAWd,EAAQgC,OAAOD,IAC1BhB,EAAW,IACXC,EAAa,IACbM,EAAwB,SAAD,OAAUS,EAAe1B,MAAQ,mBAG1D,GAAI4B,OAAOC,QAAP,UAAkB3C,EAAlB,2EAAoG,CACtG,IAAM4C,EAAa,2BAAQ/B,GAAR,IAAgBK,OAAQjB,IAC3C/B,EACCU,OAAOgE,GACPtE,MAAK,SAAAkE,GACJjB,EAAWd,EAAQQ,KAAI,SAAAoB,GAAC,OAAIA,EAAEtD,KAAOyD,EAAezD,GAAKsD,EAAIG,MAC7DhB,EAAW,IACXC,EAAa,IACbM,EAAwB,WAAD,OAAYS,EAAe1B,KAA3B,iBAAgD,gBAezEd,QAASA,EACTC,UAAWA,EACXC,iBA5EmB,SAAC+B,GACxBT,EAAWS,EAAMC,OAAO7B,QA4EpBF,mBAzEqB,SAAC8B,GAC1BR,EAAaQ,EAAMC,OAAO7B,UA2ExB,yCACA,cAACwC,EAAD,CAASpC,QAASA,EAASC,WAAYA,EAAYC,kBA5D7B,SAACmC,GACrBJ,OAAOC,QAAP,iBAAyBG,EAAehC,KAAxC,QACF5C,EACCc,OAAO8D,EAAe/D,IACtBT,MAAK,WACJiD,EAAWd,EAAQG,QAAO,SAAAC,GAAM,OAAIA,EAAO9B,KAAO+D,EAAe/D,UAChEgE,OAAM,SAAAC,GACPzB,EAAWd,EAAQG,QAAO,SAAAC,GAAM,OAAIA,EAAO9B,KAAO+D,EAAe/D,OACjEgD,EAAwB,WAAD,OAAYe,EAAehC,KAA3B,qCAAoE,mBCnDnGmC,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.84ee3bf4.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = changedObject => {\r\n  const request = axios.put(`${baseUrl}/${changedObject.id}`, changedObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = id => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst personService = { getAll, create, update, remove }\r\n\r\nexport default personService","import React from 'react'\r\n\r\nconst Notification = ({ message, messageType }) => {\r\n    let messageStyle = {\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10,\r\n    }\r\n\r\n    if (messageType === 'success') {\r\n        messageStyle.color = 'green'\r\n    }\r\n    else if (messageType === 'error') {\r\n        messageStyle.color = 'red'\r\n    }\r\n\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div style={messageStyle}>\r\n        {message}\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React from 'react'\r\n\r\nconst PersonForm = ({addPerson, newName, newNumber, handleNameChange, handleNumberChange}) => {\r\n\r\n  return (\r\n    <form onSubmit={addPerson}> \r\n        <div>name: \r\n            <input\r\n                value={newName}\r\n                onChange={handleNameChange}\r\n            />\r\n        </div>\r\n        <div>number: \r\n            <input\r\n                value={newNumber}\r\n                onChange={handleNumberChange}\r\n            />\r\n        </div>\r\n        <div>\r\n            <button type=\"submit\">add</button>\r\n        </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Filter = ({persons, nameFilter, handleDeleteClick}) => {\r\n\r\n  return (\r\n    <div>\r\n        {\r\n        persons\r\n        .filter(person => nameFilter === '' ? true : person.name.toLowerCase().includes(nameFilter.toLowerCase()))\r\n        .map(person => {\r\n          return(\r\n            <p key={person.id}>{person.name} {person.number} <button onClick={() => handleDeleteClick(person)}>delete</button></p>\r\n          )\r\n        })\r\n        }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Filter = ({nameFilter, handleNameFilterChange}) => {\r\n\r\n  return (\r\n    <div>filter shown with\r\n        <input\r\n            value={nameFilter}\r\n            onChange={handleNameFilterChange}\r\n        />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter","import React, { useState, useEffect } from 'react'\nimport personService from '../services/persons'\nimport Notification from './Notification'\nimport PersonForm from './PersonForm'\nimport Persons from './Persons'\nimport Filter from './Filter'\n\n\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ nameFilter, setNameFilter ] = useState('')\n  const [ messageType, setMessageType ] = useState(null)\n  const [ message, setMessage ] = useState(null)\n  \n\n  useEffect(() => {\n    personService\n    .getAll()\n    .then(initialPersons => {\n      setPersons(initialPersons)\n    })\n  }, [])\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleNameFilterChange = (event) => {\n    setNameFilter(event.target.value)\n  }\n\n  const showNotificationMessage = (message, messageType) => {\n    setMessageType(messageType)\n    setMessage(message)\n    setTimeout(() => {\n      setMessageType(null)\n      setMessage(null)\n    }, 5000)\n  }\n\n  const handleDeleteClick = (personToDelete) => {\n    if (window.confirm(`Delete ${personToDelete.name} ?`)) { \n      personService\n      .remove(personToDelete.id)\n      .then(() => {\n        setPersons(persons.filter(person => person.id !== personToDelete.id))\n      }).catch(error => {\n        setPersons(persons.filter(person => person.id !== personToDelete.id))\n        showNotificationMessage(`Person '${personToDelete.name}' was already removed from server`, 'error')\n      })\n    }\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const person = persons.find(p => p.name === newName)\n    if (person === undefined) {\n      const newPerson = {\n        name: newName, \n        number: newNumber\n      }\n      personService\n      .create(newPerson)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        setNewName('')\n        setNewNumber('')\n        showNotificationMessage(`Added ${returnedPerson.name}`, 'success')\n      })      \n    } else {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) { \n        const changedPerson = { ...person, number: newNumber}\n        personService\n        .update(changedPerson)\n        .then(returnedPerson => {\n          setPersons(persons.map(p => p.id !== returnedPerson.id ? p : returnedPerson))\n          setNewName('')\n          setNewNumber('')\n          showNotificationMessage(`Changed ${returnedPerson.name} phone number`, 'success')\n        })\n      }\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} messageType={messageType}/>\n      <Filter nameFilter={nameFilter} handleNameFilterChange={handleNameFilterChange} />\n      \n      <h2>Add new</h2>\n      <PersonForm \n        addPerson={addPerson}\n        newName={newName}\n        newNumber={newNumber}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n      />\n\n      <h2>Numbers</h2>\n      <Persons persons={persons} nameFilter={nameFilter} handleDeleteClick={handleDeleteClick} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './components/App'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}